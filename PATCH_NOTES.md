# Country Maker パッチノート

## v0.1.8 - 2026-01-21 - 図形作成の操作性改善

**ステータス**: アルファ版

### 変更点

- **作成操作の変更 (ドラッグ廃止)**:
  - **四角形**: 3回クリック式に変更（始点→辺の終点→幅）。斜めの長方形も作成可能になりました。
  - **円**: 2回クリック式に変更（中心→半径）。
  - ドラッグ操作よりも正確な図形が描けるようになりました。

---

## v0.1.7b - 2026-01-21 - UIバグ修正

**ステータス**: アルファ版 (Hotfix)

### 修正点

- **モード切替ボタン修正**:
  - 四角形・円形ツール選択ボタンが反応しない問題を修正しました。
  - パネルの描画優先順位（Z-index）を調整し、確実に入力を受け付けるようにしました。

---

## v0.1.7 - 2026-01-21 - 四角形・円形ツール

**ステータス**: アルファ版

### 新機能

- **図形作成モード**:
  - 多角形ツール (Land Tool) に「四角形」と「円」の作成モードを追加しました。
  - 左上の設定パネルからモードを切り替えられます。
  - **Rectangle (⬛)**: ドラッグして四角形を作成します。
  - **Circle (⚫)**: 中心からドラッグして円を作成します。

---

## v0.1.6 - 2026-01-21 - スナップ修正 & 角度表示

**ステータス**: アルファ版

### 改善点

- **スナップ挙動の修正**:
  - マウスをクリックした際、カーソル位置そのものではなく、ガイドが表示されている「スナップ位置」に点が打たれるように修正しました。これにより意図した通りの直線や直角が作成できます。
- **角度表示**:
  - 多角形ツールで線を引く際、直前の線との角度（90°など）を表示する機能を追加しました。正確な整地が可能になります。

---

## v0.1.5 - 2026-01-21 - UIデザイン改善 & パネル統合

**ステータス**: アルファ版

### 変更点

- **デザイン改善**:
  - 設定パネルのトグルスイッチのデザインをモダンな形状（ピル型）に変更し、アニメーションを滑らかにしました。
- **コントロール統合**:
  - 多角形ツールの操作ボタン（Undo, 中止, 完了）を画面下部のフローティングバーから、左上の設定パネル内「アクション」セクションへ移動しました。これによりUIがより一箇所に集約されました。

---

## v0.1.4 - 2026-01-21 - サイド設定パネル

**ステータス**: アルファ版

### 新機能

- **サイド設定パネル**:
  - 画面左上に、現在選択中のツールに応じた設定を表示するパネルを追加しました。
  - **多角形ツール**: スナップ設定と操作ショートカットガイドをこのパネルに移動しました。
  - 今後、ブラシサイズや道路幅などの設定もここに追加される予定です。

---

## v0.1.3 - 2026-01-21 - 多角形ツール改良

**ステータス**: アルファ版

### 新機能

- **多角形ツール (Land Tool)**:
  - **Undo機能**: 作成中に `Backspace` キーまたは画面上の「戻る」ボタンで、直前の頂点を取り消せるようになりました。
  - **スナップ視覚化**: 始点にカーソルを近づけた際、スナップ（ループを閉じる）判定が黄色いハイライトで分かりやすく表示されるようになりました。

---

## v0.1.2 - 2026-01-20 - 無限マップ & ビジュアルアップデート

**ステータス**: アルファ版

### 新機能

- **無限マップ**:
  - マップの端（壁）を撤廃し、全方向に無限に移動・建築が可能になりました。
  - データ保存形式をチャンク方式に変更しました。
- **ビジュアル改善（スムーズレンダリング）**:
  - **滑らかな道路・線路**: カクカクしたピクセル表示を廃止し、ベクター描画による滑らかな曲線で道路や線路が繋がるようになりました。
  - **自然な地形**: タイルの境界線を目立たなくし、一枚の連続した大地として描画されるようになりました。
  - **ズーム機能強化**: 従来よりも遥かに広範囲までズームアウト（縮小）できるようになり、巨大な都市を一望できるようになりました。

---

## v0.1.1 - 2026-01-20 - 範囲選択アップデート

**ステータス**: アルファ版

### 新機能

- **操作性**:
  - **範囲選択（ドラッグ）**: マウスドラッグで矩形範囲を指定し、一括で地形変更や建物を配置できる機能を追加しました。従来の一筆書き（ペイント）操作から変更されました。

---

## v0.1.0 - 2026-01-20 - 初回リリース

**ステータス**: アルファ版

### 新機能

- **プロジェクト初期化**: Map, Renderer, Input, UIシステムを含むベースゲームを作成しました。
- **シティビルダー化**:
  - 画面下部に「ドックスタイル」のUIを実装しました。
  - **人口シミュレーション**を追加しました（住宅1軒につき住民4名）。
  - ヘッダーに**人口カウンター**を追加しました。
- **建設ツール**:
  - 住宅(🏠)、商業(🏢)、工業(🏭)ゾーンを追加しました。
  - 陸地/海ツール、道路/線路ツール、植林ツールを追加しました。
- **カメラ操作**:
  - **WASD**キーによるカメラ移動を実装しました。
  - マウスホイールによる**ズーム（拡大縮小）**を実装しました。

### 改善点

- **グラフィック**:
  - プロシージャルな水面アニメーションを追加しました。
  - 道路と線路のオートタイル（接続が自動的に描画される機能）を実装しました。
  - 建物タイプごとに異なる外観スタイルを実装しました。
- **修正**:
  - モジュールインポートの欠落によって発生していたクラッシュ問題を修正しました。
  - 画面が真っ白になる原因となっていたレンダラーの構文エラーを修正しました。

---
